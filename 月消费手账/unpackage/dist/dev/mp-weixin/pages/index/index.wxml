<view class="container"><view class="tab"><view class="label"><text>{{''+(dateType?'日期':'月份')+'：'}}</text><view data-event-opts="{{[['tap',[['changeDateType',['$event']]]]]}}" class="icon" bindtap="__e"></view></view><view class="value"><block wx:if="{{dateType}}"><uni-datetime-picker vue-id="8dd740cc-1" type="daterange" rangeSeparator="至" value="{{daterange}}" data-event-opts="{{[['^change',[['changeTime']]],['^input',[['__set_model',['','daterange','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></uni-datetime-picker></block><block wx:else><picker mode="date" fields="month" value="{{daterange}}" data-event-opts="{{[['change',[['changeMonth',['$event']]]]]}}" bindchange="__e"><view class="uni-input">{{daterange}}</view></picker></block></view></view><view class="tab"><view class="label">账单详情：</view><textarea class="value" maxlength="-1" confirm-type="确定" placeholder-style="color:#ccc" placeholder="请粘贴或输入账单详情  示例:小面7买烟20买水4    or   小面7,买烟20,买水4     or    小面7 买烟20,买水4  " data-event-opts="{{[['input',[['__set_model',['','text','$event',[]]],['confirm',['$event']]]],['confirm',[['confirm',['$event']]]]]}}" value="{{text}}" bindinput="__e" bindconfirm="__e"></textarea></view><view class="flex"><button class="primary left" size="mini" data-event-opts="{{[['tap',[['clear',['$event']]]]]}}" bindtap="__e">清空</button><button class="primary right" type="primary" size="mini" data-event-opts="{{[['tap',[['go',['$event']]]]]}}" bindtap="__e">确定</button></view><view class="tab"><view class="label">历史记录：</view><block wx:if="{{history.length}}"><view class="value content"><block wx:for="{{history}}" wx:for-item="x" wx:for-index="y" wx:key="y"><view class="history"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({x})}}" class="label" bindtap="__e">{{x.title}}</view><view data-event-opts="{{[['tap',[['deleteFn',[y]]]]]}}" class="delete" catchtap="__e">删除</view></view></block></view></block></view><block wx:if="{{history.length>1}}"><button class="primary right" size="mini" type="primary" data-event-opts="{{[['tap',[['calcTotal',['$event']]]]]}}" bindtap="__e">统计</button></block></view>