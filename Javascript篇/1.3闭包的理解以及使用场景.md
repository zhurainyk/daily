## 理解JavaScript闭包9大使用场景

### 1. 返回值（最常用）

``` 
    function fn(){
    var name="hello";
            return function(){
                return name;
            }
        }
    var fnc = fn();
        console.log(fnc())//hello

```

> 这个很好理解就是以闭包的形式将 name 返回。
    
 
### 2. 函数赋值

```
    var fn2;
    function fn(){
        var name="hello";
        //将函数赋值给fn2
        fn2 = function(){
            return name;
        }
    }
    fn()//要先执行进行赋值，
    console.log(fn2())//执行输出fn2

```
>  在闭包里面给fn2函数设置值，闭包的形式把name属性记忆下来，执行会输出 hello。


### 3. 函数参数
    
```
    function fn(){
        var name="hello";
        return function callback(){
            return name;
        }
    }
    var fn1 = fn()//执行函数将返回值（callback函数）赋值给fn1，

    function fn2(f){
        //将函数作为参数传入
        console.log(f());//执行函数，并输出
    }
    fn2(fn1)//执行输出fn2
```

> 用闭包返回一个函数，把此函数作为另一个函数的参数，在另一个函数里面执行这个函数，最终输出 hello

### 4. IIFE（自执行函数）
```
    (function(){
        var name="hello";
        var fn1= function(){
            return name;
        }
        //直接在自执行函数里面调用fn2，将fn1作为参数传入
        fn2(fn1);
    })()
    function fn2(f){
        //将函数作为参数传入
        console.log(f());//执行函数，并输出
    }
```
>直接在自执行函数里面将封装的函数fn1传给fn2，作为参数调用同样可以获得结果 hello。

### 5.循环赋值

```
    //每秒执行1次，分别输出1-10
    for(var i=1;i<=10;i++){
        (function(j){
            //j来接收
            setTimeout(function(){
                console.log(j);
            },j*1000);
        })(i)//i作为实参传入
    }
   
```
>  如果不采用闭包的话，会有不一样的情况。